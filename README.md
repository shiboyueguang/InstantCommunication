# InstantCommunication
制作一个简单的即时通信系统！   
仅用来学习参考，绝对不会用于其他用处！

# 使用技术
前端：Webpack + React + TypeScript   
后端：Node.js + Express   
数据库：MongoDB

# 启动项目于浏览器
``` cmd
cd InstantCommunication
pnpm install
开启前端：npm start
开启后端：npm run dev
建议先启动后端，再启动前端，避免前端有些接口加载不出来，还需要刷新。
```

### 以下是制作时的思路（简称草稿纸）
架子是用webpack搭建，前端主要代码在src目录下，后端全部代码在request目录下，打包后的文件在dist文件下。   
暂定想要实现的功能：登录注册，群聊天，好友聊天，动态，好友列表（不一定能实现）。   
保存聊天记录和离线收到消息功能因数据库存储问题暂时不能实现，只能进入群或打开聊天页之后接受消息。   
败笔之一是没有将css模块化，导致命名不能重，当时发觉的时候已经写了好多了，不想改了。   
因为重点在功能的实现，所以并没有实现响应式，想实现的可以自己实现。

NotFound表示404时的页面，暂时比较简陋，它不是重点，懒得搞他了。

数据库名称：InstantCommunication   
登录的集合名称：userInfo   
登录的时候数据库内容：
 - 账号 account
 - 密码 password
 - 电子邮箱 email
 - 手机号 telephone
 - 注册时间 timeOfRegistration
 - 最后一次登录时间 lastLoginTime （废弃）  

登录的接口：
 - /login 登录

想用拦截器拦截登录路由，但是没有实现，大佬萌会的可以教我一下。   
对于登录可以保存一段时间token，让短暂的下一次登录时能保存住成功，不用再次登录的思路：可以在后端加一个接口，叫登录成功接口，登录成功后，把
token和success传给接口，让接口短暂保存起来，下一次进入时先调用这个接口，如果为true，则直接进入，不用调用login接口，如果为false再正常
登录。但是有问题，就是如何分辨不同人，不同浏览器，此处还有问题，希望大佬投稿指教。

聊天室得先创群聊，才能聊天，而且是实时添加，实时聊天，离线保存和聊天暂时不好实现。  包括两个人聊天也得先建立群聊。 
动态是可以实现离线保存的。  
小游戏是单机游戏，不会保存游戏数据。  
暂时不支持添加好友。
